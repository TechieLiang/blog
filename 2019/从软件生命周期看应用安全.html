<!doctype html>
<html style='font-size:18px !important'>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>从软件生命周期看应用安全</title><style type='text/css'>html {overflow-x: initial !important;}:root { --node-fill:  #ECECFF; --node-border:  #CCCCFF; --note-fill:  #fff5ad; --note-border:  #aaaa33; --cluster-fill:  #ffffde  !important; --cluster-border:  #aaaa33  !important; }
.mermaid .label { color: var(--text-color); }
.node rect, .node circle, .node ellipse, .node polygon { fill: var(--node-fill); stroke: var(--node-border); stroke-width: 1px; }
.edgePath .path { stroke: var(--text-color); }
.edgeLabel { background-color: var(--bg-color); }
.cluster rect { fill: rgb(255, 255, 222) !important; rx: 4px !important; stroke: rgb(170, 170, 51) !important; stroke-width: 1px !important; }
.cluster text { fill: var(--text-color); }
.actor { stroke: var(--node-border); fill: var(--node-fill); }
text.actor { fill: var(--text-color); stroke: none; }
.actor-line { stroke: grey; }
.messageLine0 { stroke-width: 1.5px; stroke: var(--text-color); }
.messageLine1 { stroke-width: 1.5px; stroke: var(--text-color); }
#arrowhead { fill: var(--text-color); }
#crosshead path { fill: var(--text-color)  !important; stroke: var(--text-color)  !important; }
.messageText { fill: var(--text-color); stroke: none; }
.labelBox { stroke: var(--node-border); fill: var(--node-fill); }
.labelText { fill: var(--text-color); stroke: none; }
.loopText { fill: var(--text-color); stroke: none; }
.loopLine { stroke-width: 2px; stroke: var(--node-border); }
.note { stroke: var(--note-border); fill: var(--note-fill); }
.noteText { fill: var(--text-color); stroke: none; font-size: 14px; }
.section { stroke: none; opacity: 0.2; }
.section0 { fill: rgba(102, 102, 255, 0.490196); }
.section2 { fill: rgb(255, 244, 0); }
.section1, .section3 { fill: white; opacity: 0.2; }
.sectionTitle0 { fill: var(--text-color); }
.sectionTitle1 { fill: var(--text-color); }
.sectionTitle2 { fill: var(--text-color); }
.sectionTitle3 { fill: var(--text-color); }
.sectionTitle { text-anchor: start; font-size: 11px; }
.grid .tick { stroke: lightgrey; opacity: 0.3; shape-rendering: crispedges; }
.grid path { stroke-width: 0px; }
.today { fill: none; stroke: red; stroke-width: 2px; }
.task { stroke-width: 2px; }
.taskText { text-anchor: middle; font-size: 11px; }
.taskTextOutsideRight { fill: black; text-anchor: start; font-size: 11px; }
.taskTextOutsideLeft { fill: black; text-anchor: end; font-size: 11px; }
.taskText0, .taskText1, .taskText2, .taskText3 { fill: white; }
.task0, .task1, .task2, .task3 { fill: rgb(138, 144, 221); stroke: rgb(83, 79, 188); }
.taskTextOutside0, .taskTextOutside2 { fill: var(--text-color); }
.taskTextOutside1, .taskTextOutside3 { fill: var(--text-color); }
.active0, .active1, .active2, .active3 { fill: rgb(191, 199, 255); stroke: rgb(83, 79, 188); }
.activeText0, .activeText1, .activeText2, .activeText3 { fill: black !important; }
.done0, .done1, .done2, .done3 { stroke: grey; fill: lightgrey; stroke-width: 2px; }
.doneText0, .doneText1, .doneText2, .doneText3 { fill: black !important; }
.crit0, .crit1, .crit2, .crit3 { stroke: rgb(255, 136, 136); fill: red; stroke-width: 2px; }
.activeCrit0, .activeCrit1, .activeCrit2, .activeCrit3 { stroke: rgb(255, 136, 136); fill: rgb(191, 199, 255); stroke-width: 2px; }
.doneCrit0, .doneCrit1, .doneCrit2, .doneCrit3 { stroke: rgb(255, 136, 136); fill: lightgrey; stroke-width: 2px; cursor: pointer; shape-rendering: crispedges; }
.doneCritText0, .doneCritText1, .doneCritText2, .doneCritText3 { fill: black !important; }
.activeCritText0, .activeCritText1, .activeCritText2, .activeCritText3 { fill: black !important; }
.titleText { text-anchor: middle; font-size: 18px; fill: black; }
.node text { font-size: 14px; }
div.mermaidTooltip { position: absolute; text-align: center; max-width: 200px; padding: 2px; font-size: 12px; background-color: rgb(255, 255, 222); border: 1px solid rgb(170, 170, 51); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; pointer-events: none; z-index: 100; background-position: initial initial; background-repeat: initial initial; }
#write .md-diagram-panel .md-diagram-panel-preview div { }


:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857143; overflow-x: hidden; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; tab-size: 4; background-position: inherit inherit; background-repeat: inherit inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
@media screen and (max-width: 500px) { 
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; }
button, input, select, textarea { color: inherit; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 2; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.701961); color: rgb(85, 85, 85); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px !important; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right-width: 0px; background-color: inherit; }
.CodeMirror-linenumber { }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; position: relative !important; background-position: inherit inherit; background-repeat: inherit inherit; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; background-position: 0px 0px; background-repeat: initial initial; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print { 
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid-page; break-before: avoid-page; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 32px; padding-right: 32px; padding-bottom: 0px; break-after: avoid-page; }
  .typora-export #write::after { height: 0px; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background-color: rgb(204, 204, 204); display: block; overflow-x: hidden; background-position: initial initial; background-repeat: initial initial; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) { 
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background-color: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; background-position: initial initial; background-repeat: initial initial; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; }
a.md-print-anchor { white-space: pre !important; border: none !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; text-shadow: initial !important; background-position: 0px 0px !important; background-repeat: initial initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; margin-top: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="mermaid"] svg, [lang="flow"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom-width: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
svg[id^="mermaidChart"] { line-height: 1em; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-scroll { overflow-y: hidden; overflow-x: auto; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; white-space: nowrap; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; border: none !important; background-position: 0px 0px !important; background-repeat: initial initial !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; border-width: 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; background-position: 0px 0px; background-repeat: initial initial; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right-width: 30px; border-right-style: solid; border-right-color: transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right-style: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right-style: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background-color: rgba(255, 255, 0, 0.4); background-position: initial initial; background-repeat: initial initial; }
@media print { 
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


html {
  font-size: 16px;
}
body {
  background: #fff;
  font-family: Source Han Sans SC, sans-serif;
  color: #555;
}
#write {
  max-width: 60em;
  margin: 0 auto;
  padding: 20px 30px 50px;
}
h1,
h2,
h3,
h4,
h5,
h6 {
  position: relative;
  margin-top: 1em;
  margin-bottom: 1em;
  font-weight: bold;
  line-height: 1.4em;
}
h1 {
  font-size: 2em;
  line-height: 1.2em;
}
h2 {
  font-size: 1.5em;
  line-height: 1.225em;
}
h3 {
  font-size: 1.3em;
  line-height: 1.43em;
}
h4 {
  font-size: 1.2em;
}
h5 {
  font-size: 1em;
}
h6 {
  font-size: 1em;
  color: #999;
}
hr {
  border: 1px solid #ddd;
}
a {
  text-decoration: none;
  color: #258fb8;
}
a:hover,
a:active {
  text-decoration: underline;
}
ul,
ol {
  padding-left: 2em;
}
.task-list {
  padding-left: 2em;
}
.task-list-item {
  padding-left: 1.6em;
}
.task-list-item input {
  top: 3px;
  left: 8px;
}
table {
  width: 100%;
  border-collapse: collapse;
  border-spacing: 0;
}
table th {
  font-weight: bold;
  border-bottom: 3px solid #ddd;
  padding-bottom: 0.5em;
}
table td {
  border-bottom: 1px solid #ddd;
  padding: 10px 0;
}
blockquote {
  border-left: 5px solid #ddd;
  padding-left: 0.5em;
  font-family: Source Han Serif SC, serif;
  color: #555;
}
blockquote blockquote {
  padding-right: 0;
}
.md-fences,
code,
tt {
  margin: 0 0.3em;
  padding: 0 0.3em;
  background: #eee;
  font-family: mononoki, monospace;
  text-shadow: 0 1px #fff;
}
.md-fences {
  margin: 15px auto;
  padding: 0.7em 1em;
  text-shadow: none;
}

  /** ported from https://codemirror.net/theme/material.css **/
  /*

      Name:       material
      Author:     Michael Kaminsky (http://github.com/mkaminsky11)

      Original material color scheme by Mattia Astorino (https://github.com/equinusocio/material-theme)

  */

  .cm-s-inner.CodeMirror {
  background-color: #263238;
  color: rgba(233, 237, 237, 1);
  }
  .cm-s-inner .CodeMirror-gutters {
  background: #263238;
  color: rgb(83,127,126);
  border: none;
  }
  .cm-s-inner .CodeMirror-guttermarker, .cm-s-inner .CodeMirror-guttermarker-subtle, .cm-s-inner .CodeMirror-linenumber { color: rgb(83,127,126); }
  .cm-s-inner .CodeMirror-cursor { border-left: 1px solid #f8f8f0; }
  .cm-s-inner div.CodeMirror-selected { background: rgba(255, 255, 255, 0.15); }
  .cm-s-inner.CodeMirror-focused div.CodeMirror-selected { background: rgba(255, 255, 255, 0.10); }
  .cm-s-inner .CodeMirror-line::selection, .cm-s-inner .CodeMirror-line > span::selection, .cm-s-inner .CodeMirror-line > span > span::selection { background: rgba(255, 255, 255, 0.10); }
  .cm-s-inner .CodeMirror-line::-moz-selection, .cm-s-inner .CodeMirror-line > span::-moz-selection, .cm-s-inner .CodeMirror-line > span > span::-moz-selection { background: rgba(255, 255, 255, 0.10); }

  .cm-s-inner .CodeMirror-activeline-background { background: rgba(0, 0, 0, 0); }
  .cm-s-inner .cm-keyword { color: rgba(199, 146, 234, 1); }
  .cm-s-inner .cm-operator { color: rgba(233, 237, 237, 1); }
  .cm-s-inner .cm-variable-2 { color: #80CBC4; }
  .cm-s-inner .cm-variable-3, .cm-s-inner .cm-type { color: #82B1FF; }
  .cm-s-inner .cm-builtin { color: #DECB6B; }
  .cm-s-inner .cm-atom { color: #F77669; }
  .cm-s-inner .cm-number { color: #F77669; }
  .cm-s-inner .cm-def { color: rgba(233, 237, 237, 1); }
  .cm-s-inner .cm-string { color: #C3E88D; }
  .cm-s-inner .cm-string-2 { color: #80CBC4; }
  .cm-s-inner .cm-comment { color: #546E7A; }
  .cm-s-inner .cm-variable { color: #82B1FF; }
  .cm-s-inner .cm-tag { color: #80CBC4; }
  .cm-s-inner .cm-meta { color: #80CBC4; }
  .cm-s-inner .cm-attribute { color: #FFCB6B; }
  .cm-s-inner .cm-property { color: #80CBAE; }
  .cm-s-inner .cm-qualifier { color: #DECB6B; }
  .cm-s-inner .cm-variable-3, .cm-s-inner .cm-type { color: #DECB6B; }
  .cm-s-inner .cm-tag { color: rgba(255, 83, 112, 1); }
  .cm-s-inner .cm-error {
  color: rgba(255, 255, 255, 1.0);
  background-color: #EC5F67;
  }
  .cm-s-inner .CodeMirror-matchingbracket {
  text-decoration: underline;
  color: white !important;
  }

  /**apply to code fences with plan text**/
  .md-fences {
  background-color: #263238;
  color: rgba(233, 237, 237, 1);
  border: none;
  }

  .md-fences .code-tooltip {
  background-color: #263238;
  }

  .cm-s-typora-default {
  background-color: #263238;
  color: rgba(233, 237, 237, 1);
  }
  .cm-s-typora-default .CodeMirror-gutters {
  background: #263238;
  color: rgb(83,127,126);
  border: none;
  }
  .cm-s-typora-default .CodeMirror-guttermarker, .cm-s-typora-default .CodeMirror-guttermarker-subtle, .cm-s-typora-default .CodeMirror-linenumber { color: rgb(83,127,126); }
  .cm-s-typora-default .CodeMirror-cursor { border-left: 1px solid #f8f8f0; }
  .cm-s-typora-default div.CodeMirror-selected { background: rgba(255, 255, 255, 0.15); }
  .cm-s-typora-default.CodeMirror-focused div.CodeMirror-selected { background: rgba(255, 255, 255, 0.10); }
  .cm-s-typora-default .CodeMirror-line::selection, .cm-s-typora-default .CodeMirror-line > span::selection, .cm-s-typora-default .CodeMirror-line > span > span::selection { background: rgba(255, 255, 255, 0.10); }
  .cm-s-typora-default .CodeMirror-line::-moz-selection, .cm-s-typora-default .CodeMirror-line > span::-moz-selection, .cm-s-typora-default .CodeMirror-line > span > span::-moz-selection { background: rgba(255, 255, 255, 0.10); }

  .cm-s-typora-default .CodeMirror-activeline-background { background: rgba(0, 0, 0, 0); }
  .cm-s-typora-default .cm-keyword { color: rgba(199, 146, 234, 1); }
  .cm-s-typora-default .cm-operator { color: rgba(233, 237, 237, 1); }
  .cm-s-typora-default .cm-variable-2 { color: #80CBC4; }
  .cm-s-typora-default .cm-variable-3 { color: #82B1FF; }
  .cm-s-typora-default .cm-builtin { color: #DECB6B; }
  .cm-s-typora-default .cm-atom { color: #F77669; }
  .cm-s-typora-default .cm-number { color: #F77669; }
  .cm-s-typora-default .cm-def { color: rgba(233, 237, 237, 1); }
  .cm-s-typora-default .cm-string { color: #C3E88D; }
  .cm-s-typora-default .cm-string-2 { color: #80CBC4; }
  .cm-s-typora-default .cm-comment { color: #546E7A; }
  .cm-s-typora-default .cm-variable { color: #82B1FF; }
  .cm-s-typora-default .cm-tag { color: #80CBC4; }
  .cm-s-typora-default .cm-meta { color: #80CBC4; }
  .cm-s-typora-default .cm-attribute { color: #FFCB6B; }
  .cm-s-typora-default .cm-property { color: #80CBAE; }
  .cm-s-typora-default .cm-qualifier { color: #DECB6B; }
  .cm-s-typora-default .cm-variable-3 { color: #DECB6B; }
  .cm-s-typora-default .cm-tag { color: rgba(255, 83, 112, 1); }
  .cm-s-typora-default .cm-error {
  color: rgba(255, 255, 255, 1.0);
  background-color: #EC5F67;
  }
  .cm-s-typora-default .CodeMirror-matchingbracket {
  text-decoration: underline;
  color: white !important;
  }

  /**apply to code fences with plan text**/
  .md-fences {
  background-color: #263238;
  color: rgba(233, 237, 237, 1);
  border: none;
  }

  .md-fences .code-tooltip {
  background-color: #263238;
  }
.CodeMirror div.CodeMirror-cursor {
  border-left: 1px solid #e4629a;
}

  #write pre.md-meta-block {
      padding: 1em;
      background-color: #fff;
      border-bottom: 1px dashed #ddd;
      color: #80cbc4;
      margin-top: 0 !important;
  }
.md-image>.md-meta {
  color: inherit;
}
header,
.context-menu,
.megamenu-content,
footer {
  font-family: Source Han Sans SC, sans-serif;
}
@media print {
  html {
    font-size: 13px;
  }
  table,
  pre {
    page-break-inside: avoid;
  }
  pre {
    word-wrap: break-word;
  }
}
header,
.context-menu,
.megamenu-content,
footer {
  font-family: Helvetica Neue, Helvetica, Segoe UI, Arial, sans-serif;
}
.md-diagram-panel-preview {
  color: #263238;
}


 .typora-export li, .typora-export p, .typora-export,  .footnote-line {white-space: normal;} 
</style>
</head>
<body class='typora-export' >
<div  id='write'  class = 'is-mac'><div class='md-toc' mdtype='toc'><p class="md-toc-content" role="list"><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n6"><a class="md-toc-inner" href="#predefine">Predefine</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n8"><a class="md-toc-inner" href="#何谓应用">何谓应用</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n13"><a class="md-toc-inner" href="#何谓安全">何谓安全</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n19"><a class="md-toc-inner" href="#何谓软件生命周期">何谓软件生命周期</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n27"><a class="md-toc-inner" href="#孕育---请给树一个好的基础">孕育 - 请给“树”一个好的基础</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n191"><a class="md-toc-inner" href="#浇水-给生命成长以能量">浇水-给生命成长以能量</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n197"><a class="md-toc-inner" href="#单人种树-艰辛也省心">单人种树-艰辛也省心</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n203"><a class="md-toc-inner" href="#多人种树-众人拾柴火焰高">多人种树-众人拾柴火焰高</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n215"><a class="md-toc-inner" href="#大团队种树-持续成长">大团队种树-持续成长</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n31"><a class="md-toc-inner" href="#诞生---给小树苗起个名办个证">诞生 - 给小树苗起个名办个证</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n34"><a class="md-toc-inner" href="#生长---历经坎坷的树生">生长 - 历经坎坷的树生</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n38"><a class="md-toc-inner" href="#齐心">齐心</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n45"><a class="md-toc-inner" href="#变心---外患">变心 - 外患</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n350"><a class="md-toc-inner" href="#伤心---内忧">伤心 - 内忧</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n51"><a class="md-toc-inner" href="#成熟---理性的分析事物辩证的看待问题">成熟 - 理性的分析事物，辩证的看待问题</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n53"><a class="md-toc-inner" href="#衰亡---结束何尝不是新的开始">衰亡 - 结束何尝不是新的开始</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n56"><a class="md-toc-inner" href="#介绍">介绍</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n65"><a class="md-toc-inner" href="#总结">总结</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n66"><a class="md-toc-inner" href="#应用安全">应用安全</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n72"><a class="md-toc-inner" href="#价值权衡">价值权衡</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n78"><a class="md-toc-inner" href="#与应用共情">与应用共情</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n432"><a class="md-toc-inner" href="#bibliography">Bibliography</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n455"><a class="md-toc-inner" href="#acknowledgement">Acknowledgement</a></span></p></div><p><span>历史车轮滚滚向前，时代潮流浩浩荡荡，社会不断地发展、演进，积累的人类宝藏（知识储备）越来越多，随着知识量的增加，人们越来越不能做到全知全能，逐步的开始根据能力、爱好、特长等等，进行职责的划分，各行各业，各式各样的生活方式不断涌现。</span></p><p><span>软件发展也是如此，随着科技的不断发展，软件与硬件的相辅相成互相促进，从最初的机器码“大佬”，到汇编语言“大牛”，从面向过程到面向对象的范式演进，从基础的 OO 到 DDD 的发展，从单体应用到微服务，随着业务规模的急剧膨胀，人机交互诉求越来越复杂，软件代码规模指数级增长。</span></p><p><span>代码量的提高让我们最终产品的可能暴露出的安全隐患越来越多，让我们从应用的生命周期来看一看，软件一生中的每一步可能会涉及到的安全问题。</span></p><p><code>（个人理解，非安全领域小猿，若有不当、不到位之处欢迎指出）</code></p><h1><a name="predefine" class="md-header-anchor"></a><span>Predefine</span></h1><p><span>从本文标题来看有三个关键词，应用、安全、软件生命周期</span></p><h2><a name="何谓应用" class="md-header-anchor"></a><span>何谓应用</span></h2><p><span>我想说软件安全，也想说网络安全，还想说产品安全，但我感觉可能应用更合适一些，因为总感觉生活中用到的软件、网络、产品这些词都像是再说我们作为“产品受众”来说所直接接触到的东西，当然也许我用应用也并不合适。</span></p><p><span>我认为的应用是：一切独立的可提供功能的被独立编译出来的文件。</span></p><p><span>无论是动态链接库、可执行文件、藏在容器里不知道自己还有兄弟姐妹的软件、虚拟机里以为这就是整个世界的程序、手机的一个 APP、浏览器看到的那个页面、嵌入式设备里容易被忽视的那些不间断运行的代码、设计出来的专用芯片中深入骨子里固化的逻辑……</span></p><p><span>无论他们是何种形态，都在独立的默默付出，或者协作着搞事情，但从软件的世界来看，就算独立的软件他们也在以“社会”这个中间媒介间接地交流着</span></p><h2><a name="何谓安全" class="md-header-anchor"></a><span>何谓安全</span></h2><p><span>安全，我认为不止局限于是否能够抵御非正当的入侵手段，还应该能够做到在大量的正当行为同时发生时能够争取的有条不紊的处理（高并发情景）。</span></p><p><span>除此以外，在突发情况下（设备故障等），能够将手头正在做的事情适当的正确处理，以便于转交他人或事后完成（分布式事务）。</span></p><p><span>再除此以外，对于事实，无论何时我们都不应撒谎（幂等，最终一致性）</span></p><p><span>还可以再……</span></p><p><span>总之，作为一个应用，理应提供持续、稳定、正确、精准的价值输出。</span></p><h2><a name="何谓软件生命周期" class="md-header-anchor"></a><span>何谓软件生命周期</span></h2><blockquote><p><span>哦，写到这我才发现写错了，准确来说按照我的定义要讲的是应用生命周期，nevermind……我相信认真读到这里的你并不介意，我要说的生命周期就是一个应用的</span></p></blockquote><p><span> 一个软件或者说产品的开发过程，可能会随着业务的膨胀逐渐的分割成多个微服务，或者多个 lib，以控制每个应用开发者需要掌控、理解的代码规模，但是这个复杂过程我讲不出来呀……让我们只看一个应用吧^.^</span></p><p><span>一个生命从出生到死亡，他经历了孕育、诞生、生长、成熟、衰亡。从没有意识的“任人摆布”，到一脸懵逼的看到新世界；从对社会充满好奇心的探索，到看破红尘的淡然；在时代浪潮中拼命前进，从一个弄潮儿逐渐变得力不从心，最后挥一挥衣袖不带走一片云彩。</span></p><p><span>软件生命周期也是如此，当有一个新的 idea 后，我们决定搞起来；当自我感觉良好的时候，让他跑起来……</span></p><blockquote><p><span>让我们来一起养成一棵树，树种-树苗-大树-树林-森林，来看看树生何其艰难险阻！</span></p></blockquote><h1><a name="孕育---请给树一个好的基础" class="md-header-anchor"></a><span>孕育 - 请给“树”一个好的基础</span></h1><blockquote><p><span>OK，我们要找一个树种了，为了让树种有很大的几率破壳而出，直达云霄，我们需要找一个好种子，并勤奋的浇水施肥，为新生命的到来做好充足准备。</span></p></blockquote><h2><a name="浇水-给生命成长以能量" class="md-header-anchor"></a><span>浇水-给生命成长以能量</span></h2><p><span>如同生命成长需要能量一样，一切应用都是由代码组成的，一个“茁壮”的应用一定要有良好的代码基础。</span></p><h3><a name="单人种树-艰辛也省心" class="md-header-anchor"></a><span>单人种树-艰辛也省心</span></h3><p><code>版本管理系统(VCS)</code><span>：单人开发的时候，也需要记录我们开发的经历，就如同我们对树种孕育的各个阶段都有所研究一样，我们必须要记录代码的成长 /  扩张过程，否则无法回顾 / 审查历史代码，这时候就需要用，比如</span><code>Git</code><span> 、</span><code>SVN</code><span> 等。(link: </span><a href='https://en.wikipedia.org/wiki/Version_control' target='_blank' class='url'>https://en.wikipedia.org/wiki/Version_control</a><span>)</span></p><blockquote><p><span>历史不可磨灭：版本管理系统一般以</span><code>有向无环图(DAG)</code><span>等手段，保证代码的历史不可被篡改(link: </span><a href='https://en.wikipedia.org/wiki/Directed_acyclic_graph' target='_blank' class='url'>https://en.wikipedia.org/wiki/Directed_acyclic_graph</a><span>)</span></p></blockquote><p><code>GPG秘钥</code><span>：树到底属于谁？自己的树只能自己浇水。那么就需要证明浇水的人是自己了，可以通过一系列 token 手段，告知 VCS 我是谁。(link: </span><a href='https://en.wikipedia.org/wiki/GNU_Privacy_Guard' target='_blank' class='url'>https://en.wikipedia.org/wiki/GNU_Privacy_Guard</a><span>)</span></p><h3><a name="多人种树-众人拾柴火焰高" class="md-header-anchor"></a><span>多人种树-众人拾柴火焰高</span></h3><p><code>代码审查</code><span>：健康茁壮的成长，我们要保证代码的质量，这时候就需要进行 code review，除此以外，当多人开发的时候，任何人都能轻易地改变代码，此时可以考虑使用类似于 Github pull request 的确认流程，使“浇水”的过程互相认证，以降低隐藏很深的漏洞。</span></p><p><code>站在巨人的肩膀</code><span>：在无特殊要求的情况下，尽可能的使用已有的轮子，依赖成熟、主流、正确的库 / 框架，可以极大地减少项目代码规模，少写点 bug。(写着写着就收到了这么贴切的事件：</span><a href='https://www.zdnet.com/article/two-malicious-python-libraries-removed-from-pypi/' target='_blank' class='url'>https://www.zdnet.com/article/two-malicious-python-libraries-removed-from-pypi/</a><span>)</span></p><blockquote><p><span>一定要注意“正确的”库 / 框架，也许我们信任某个主流的库，但是引用错了，那真的会是一个隐藏在无限深处的坑。(link: )</span></p></blockquote><p><code>包完整性校验</code><span>：好不容易找到个喜欢的东西，我相信谁也不希望半路被掉包。一般认为是 HTTPS 的远程仓库，但实际上不一定靠谱，若使用 https，请先人工确认我们使用的远程库是可靠的（或者说是知名的吧），毕竟 CA 证书只能保证链路中的安全性，无法保证源头。(link: </span><a href='https://www.gnupg.org/gph/en/manual/x135.html' target='_blank' class='url'>https://www.gnupg.org/gph/en/manual/x135.html</a><span>)</span></p><blockquote><p><span>There are over 400 “Certificate Authorities” who may issue certificates for any domain. Many have poor security records and some are even explicitly controlled by governments. (link: </span><a href='https://whydoesaptnotusehttps.com/' target='_blank' class='url'>https://whydoesaptnotusehttps.com/</a><span>)</span></p></blockquote><h3><a name="大团队种树-持续成长" class="md-header-anchor"></a><span>大团队种树-持续成长</span></h3><p><span>当团队足够大，我们需要保证小树苗持续的成长。</span></p><p><code>CI/CD</code><span>：持续集成、持续部署/交付，先让我们看看下面的过程(link1: </span><a href='https://en.wikipedia.org/wiki/Continuous_integration' target='_blank' class='url'>https://en.wikipedia.org/wiki/Continuous_integration</a><span>) (link2: </span><a href='https://en.wikipedia.org/wiki/Continuous_delivery' target='_blank' class='url'>https://en.wikipedia.org/wiki/Continuous_delivery</a><span>) (link3: </span><a href='https://en.wikipedia.org/wiki/Continuous_deployment' target='_blank' class='url'>https://en.wikipedia.org/wiki/Continuous_deployment</a><span>)</span></p><div class="md-diagram-panel"><svg id="mermaidChart119" xmlns="http://www.w3.org/2000/svg" height="100%" viewBox="0 0 774.234375 140" style=""><style></style><style>#mermaidChart119 {
    color: rgb(38, 50, 56);
    font: normal normal normal normal 16.200000762939453px/16.200000762939453px mononoki, monospace;
  }</style><g transform="translate(32, 32)"><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M75.9375,38L105.4296875,38L134.921875,38" marker-end="url(#arrowhead1379)" style="fill:none"></path><defs><marker id="arrowhead1379" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M172.890625,38L202.3828125,38L231.875,38" marker-end="url(#arrowhead1380)" style="fill:none"></path><defs><marker id="arrowhead1380" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M440.546875,38L470.0390625,38L499.53125,38" marker-end="url(#arrowhead1381)" style="fill:none"></path><defs><marker id="arrowhead1381" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(105.4296875,38)" style="opacity: 1;"><g transform="translate(-4.4921875,-8)" class="label"><foreignObject width="8.984375" height="16"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">1</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(202.3828125,38)" style="opacity: 1;"><g transform="translate(-4.4921875,-8)" class="label"><foreignObject width="8.984375" height="16"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">2</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(470.0390625,38)" style="opacity: 1;"><g transform="translate(-4.4921875,-8)" class="label"><foreignObject width="8.984375" height="16"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">3</span></div></foreignObject></g></g></g><g class="nodes"><g class="node" id="code" transform="translate(47.96875,38)" style="opacity: 1;"><rect rx="0" ry="0" x="-27.96875" y="-18" width="55.9375" height="36"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-17.96875,-8)"><foreignObject width="35.9375" height="16"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">code</div></foreignObject></g></g></g><g class="node" id="CI" transform="translate(153.90625,38)" style="opacity: 1;"><rect rx="0" ry="0" x="-18.984375" y="-18" width="37.96875" height="36"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-8.984375,-8)"><foreignObject width="17.96875" height="16"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">CI</div></foreignObject></g></g></g><g class="node" id="C" transform="translate(336.2109375,38)" style="opacity: 1;"><rect rx="0" ry="0" x="-104.3359375" y="-18" width="208.671875" height="36"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-94.3359375,-8)"><foreignObject width="188.671875" height="16"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">compile and packaging</div></foreignObject></g></g></g><g class="node" id="D" transform="translate(594.8828125,38)" style="opacity: 1;"><rect rx="0" ry="0" x="-95.3515625" y="-18" width="190.703125" height="36"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-85.3515625,-8)"><foreignObject width="170.703125" height="16"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">send to product env</div></foreignObject></g></g></g></g></g></g></svg></div><p><code>TLS</code><span>：我们的代码从本地提交到 VCS，VCS 主动 push 或者 CI 主动 pull 代码，此时完成了第一步，这一步涉及到了网络通讯；同理对于编译、打包完成后的文件需要部署或者发布到产品环境，这是第三步，也有网络通讯。我们需要保证这两个过程的安全，可以通过主流的 TLS。(link: </span><a href='https://en.wikipedia.org/wiki/Transport_Layer_Security' target='_blank' class='url'>https://en.wikipedia.org/wiki/Transport_Layer_Security</a><span>)</span></p><p><span>一般来说我们认为保证了通信过程安全就可以了，实际上不是的，我们不能保证应用在拿到数据后真的按照“规矩”办事，尤其是对于我们的 code，如果在“制造工厂”就出现了差错，那后续的一切行为都不在可控，所以上面解决了步骤一和步骤三的安全问题，对于在同一个“主机”运行的编译和打包过程，我们也应该以怀疑的态度去考察：</span></p><p><code>可重现构建</code><span>：在 code 不变的时候，我们总是能够 build 出来的二进制码一样的目标对象。这样有助于我们定期的对 CI 系统是否“被入侵”、“被错误配置”进行检查。(link: </span><a href='https://en.wikipedia.org/wiki/Reproducible_builds' target='_blank' class='url'>https://en.wikipedia.org/wiki/Reproducible_builds</a><span>)</span></p><blockquote><p><span>这一部分认为团队共同 owner 一套代码，以小步提交为开发基础，在种树的时候才能稳稳地逐步发育成长，所以并未考虑本地积累大量代码后进行合并的问题。如果出现本地积累大量代码的情况，一般手段的代码审查已经不足以解决问题，此时的问题不止局限于代码层面的理解，还需要考虑业务 context 的共识。</span></p><p><span>p.s. 当然我认为小步提交对于 Git 来说是指 push，对于敏捷来说小不提交是没有针对具体的版本管理系统的，我们共同管理一套代码，本地的 git commit 内容再多，我们种的树也没有成长。</span></p><p><span>总之，我们在开发过程要有防御性编程意识，不只是判断 NPE(null pointer exception, link: </span><a href='https://en.wikipedia.org/wiki/Null_pointer' target='_blank' class='url'>https://en.wikipedia.org/wiki/Null_pointer</a><span>)，还要守护我们的代码生成最终的我们想要的应用</span></p></blockquote><h1><a name="诞生---给小树苗起个名办个证" class="md-header-anchor"></a><span>诞生 - 给小树苗起个名办个证</span></h1><p><span>我们有身份证、指纹、面部信息识别、瞳孔识别、基因、户口本、档案等等各种手段验证、证明“我是我”，那对于应用如何证明它是所声明的它呢？</span></p><p><code>Certificate Authority(CA)</code><span>：我们想要证明一个应用就是他，首先要给他办法一个身份证，这时候就可以去找 CA 落户了。(link: </span><a href='https://en.wikipedia.org/wiki/Certificate_authority' target='_blank' class='url'>https://en.wikipedia.org/wiki/Certificate_authority</a><span>) (link2: </span><a href='https://en.wikipedia.org/wiki/X.509' target='_blank' class='url'>https://en.wikipedia.org/wiki/X.509</a><span>)</span></p><p><span>这就够了么？</span></p><p><code>hardware security module(HSM)/trusted platform module(TPM)</code><span>: 我们不能把证书当做我们的身份证，对于应用来说丢失证书几乎是是无法挽回的伤痛，通过硬件的手段进行必要加密，降低系统被入侵后的风险。(link1: </span><a href='https://en.wikipedia.org/wiki/Hardware_security_module' target='_blank' class='url'>https://en.wikipedia.org/wiki/Hardware_security_module</a><span>) (link2: </span><a href='https://en.wikipedia.org/wiki/Trusted_Platform_Module' target='_blank' class='url'>https://en.wikipedia.org/wiki/Trusted_Platform_Module</a><span>)</span></p><blockquote><p><span>CA 给我们的证书只能用于告诉别人“我是谁”，如何确认“我真的是谁”，就如同我们只说全面有个动物是没有感觉得，但是如果说前面有只老虎或者有只猫，我们会有不同的反应。CA 证书只告诉我们这是“这棵树”，并未告诉我们这是棵什么树。</span></p></blockquote><p><code>user persona</code><span>：我们不能在 2020 年即将到来的时候，还对跑在 win 98 下的 &#39;Happy软件&#39; 给予高度信任，也许它早就被入侵者改变了。设备的硬件信息、系统信息、运行时间等等，这一系列基础信息也应该作为对应用的描述，这算是我们对此应用的第一印象。(link: </span><a href='https://en.wikipedia.org/wiki/Persona_(user_experience)' target='_blank' class='url'>https://en.wikipedia.org/wiki/Persona_(user_experience)</a><span>)</span></p><h1><a name="生长---历经坎坷的树生" class="md-header-anchor"></a><span>生长 - 历经坎坷的树生</span></h1><blockquote><p><span>就算是成熟的大树，也应该小心身边的一切，就算是身边的小伙伴。这样讲是不是有点内心“黑暗”？并不是的！</span></p><p><span>相比于人，我们可以 face to face 的识人，但对于应用来说，想要 face to face 的了解另一个应用，这只能是一种奢望，所以在沟通的过程一定要小心不要被安排的明明白白。</span></p></blockquote><h2><a name="齐心" class="md-header-anchor"></a><span>齐心</span></h2><blockquote><p><span>步入学校，家校合作，遮风挡雨让小树苗茁壮成长</span></p></blockquote><p><span>边界网络安全模式，四个层次</span></p><blockquote><p><span>上学的过程，小树苗认识了一堆小伙伴，随着不断地交流它们有了默契，决定一起搞事情</span></p></blockquote><p><span>单体应用膨胀到微服务，共同奋斗提供一套完整功能，构成完整的产品，齐心协力，搞大事情。(这么看起来，世界真美妙)</span></p><h2><a name="变心---外患" class="md-header-anchor"></a><span>变心 - 外患</span></h2><p><span>小伙伴的 owner 犯错（开发者写错了代码）</span></p><p><span>小伙伴被入侵</span></p><p><span>小伙伴所处环境突变</span></p><h2><a name="伤心---内忧" class="md-header-anchor"></a><span>伤心 - 内忧</span></h2><blockquote><p><span>病菌是可以互相传染的，不做任何防护，小树苗很可能在和小伙伴玩耍时被传染</span></p></blockquote><p><span>横向移动风险</span></p><blockquote><p><span>吃一堑长一智，或者见多识广？反正我们的小树苗顺利地生存了下来，从学生时代的树林小集体学到了很多很多，随着心智的成熟，它步入了大森林……</span></p></blockquote><h1><a name="成熟---理性的分析事物辩证的看待问题" class="md-header-anchor"></a><span>成熟 - 理性的分析事物，辩证的看待问题</span></h1><blockquote><p><span>若一味地信任，本身一起在冲锋陷阵，毫不设防的将后背给了“小伙伴”这是很危险的，在不能 face to face 的了解他的情况下，我们怎么知道“它就是它”？并且它在成长过程坚持着“不忘初心”？或者说如何判断对方是它所声明的主体？</span></p></blockquote><p>&nbsp;</p><p>&nbsp;</p><p><a href='https://en.wikipedia.org/wiki/User_profile' target='_blank' class='url'>https://en.wikipedia.org/wiki/User_profile</a></p><p><span>用户画像（user persona）是产品设计人员在产品规划阶段，基于对用户的真实需求虚拟出的典型人物角色；用户画像（user profile）是基于大量用户积累下的数据，结合相应的需求和场景沉淀出的一系列标签，这些标签共同为提供更好的产品迭代提供数据支持。</span></p><h1><a name="衰亡---结束何尝不是新的开始" class="md-header-anchor"></a><span>衰亡 - 结束何尝不是新的开始</span></h1><p>&nbsp;</p><p>&nbsp;</p><h1><a name="介绍" class="md-header-anchor"></a><span>介绍</span></h1><p><span>开头故事  </span></p><p><span>内部调用：A调用B 删除了信息   </span></p><p><span>生命创建：构建时有了异常代码</span></p><p>&nbsp;</p><p><span>微服务与客户端构成的并不是平面，而是网兜</span></p><p>&nbsp;</p><p><span>无论是数据的安全，还是网络的安全，最终我们真正考虑的还是一个“程序”的安全，考虑到可能“程序”会被误解为是一个“APP”，可能用“进程”来表述更好一些，后面要说到的程序是指：由代码生成的可独立运行的软件/服务/客户端/容器里运行的一个服务都是独立的程序，而零信任网络要考虑的就这每一个程序的安全。</span></p><p><span>书中讲的更偏重于理论，从各个安全的角度探讨，本文尝试从一个程序以及产品的生命周期来看一看零信任网络要如何做。</span></p><h1><a name="总结" class="md-header-anchor"></a><span>总结</span></h1><h2><a name="应用安全" class="md-header-anchor"></a><span>应用安全</span></h2><p><span>一个产品就是一个庞大的生命，虽然最终的产品被拆分成了多个应用，但每个应用也具有其独立主格，理应充分地给予其完整的生存权。</span></p><p><span>每个应用作为独立的主体，理应“从来不信任，始终在校验”，并通过各种现实情境中的“训练”，使其做到“自立、自强、自信”。</span></p><p><span>自信：来源于应用在孕育过程尽可能充分地考虑，应用在成长到成熟的乘风破浪经历。</span></p><p><span>自立：应用在环境各种变动下，始终屹立不倒的提供持续、稳定、正确、精准的价值输出。</span></p><p><span>自强：在内忧外患的磨难中成长，在风雨交加的变迁中演进，敏捷的响应各种改变，披荆斩棘，向着远方小步快跑。</span></p><h2><a name="价值权衡" class="md-header-anchor"></a><span>价值权衡</span></h2><p><span>脱离背景谈方案，一切都是扯淡</span></p><p><span>真的有必要对一个本地的简易计算器做XXXX、XXXX2、XXXX3、XXXX4……全方位保护么？</span></p><p><span>开发最终的目的还是要交付价值，无论是对自己、对公司、对社会的价值。而安全可以算是一个产品的非功能性需求（安全产品除外），那么需要做到的安全层级，一定要从安全的价值、受众群体、风险来源、商业/产品竞品等等多个维度考察，而不是一味地投入。就算是同样的安全需求，在不同的业务 context 下，如何做抉择？</span></p><h2><a name="与应用共情" class="md-header-anchor"></a><span>与应用共情</span></h2><p><span>也许在工作生活中我们能与他人共情，但对于无生命的个体呢？实际上一个产品在开发、创作过程中，作为开发者来说，我们就是在逐渐地赋予其生命。</span></p><p><span>应用只会通过正确 / 错误的IO（输入输出）与我们交流，想要充分地了解它，首先我们应该理解应用的价值，或者说应用的业务背景，尝试着设身处地的为这个生命考虑，让我们的创作更加完美。</span></p><h1><a name="bibliography" class="md-header-anchor"></a><span>Bibliography</span></h1><p><span>all in (link XXXXX)</span></p><h1><a name="acknowledgement" class="md-header-anchor"></a><span>Acknowledgement</span></h1><p><span>感谢零信任概念提出者 John Kindervag，感谢《零信任网络》作者 Evan Gilman、Doug Barth，感谢奇安信身份安全实验室译者团体。无论是编程过程中主动的防御性编程，还是在软件发布、部署、交互过程的安全意识，阅读此书，让我重新审视以往开发过程中的每一步。</span></p><p>&nbsp;</p><p>&nbsp;</p></div>
</body>
</html>